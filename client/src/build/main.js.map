{"version":3,"sources":["webpack:///webpack/bootstrap a10c5132e8f09ac93f1f","webpack:///./main.js","webpack:///./site/modules/index.js","webpack:///./site/modules/header/index.js","webpack:///./site/modules/pagination/index.js","webpack:///./site/modules/markdown/index.js","webpack:///external \"markdownit\"","webpack:///./site/modules/enter/index.js","webpack:///./site/modules/article-tags/index.js","webpack:///./site/modules/btn-to-top/index.js","webpack:///./site/modules/deploy-record/index.js","webpack:///./site/filters/index.js","webpack:///./site/filters/date/index.js","webpack:///./site/services/index.js","webpack:///./site/services/article/index.js","webpack:///./site/services/user/index.js","webpack:///./site/services/tag/index.js","webpack:///./site/services/deploy/index.js","webpack:///./site/services/modal/index.js","webpack:///./site/services/deploy-read/index.js","webpack:///./site/index.js","webpack:///./site/tpls/articles/index.js","webpack:///./site/tpls/article/index.js","webpack:///./site/tpls/users/index.js","webpack:///./site/tpls/user/index.js","webpack:///./site/tpls/tag/index.js","webpack:///./site/tpls/profile/index.js","webpack:///./site/tpls/profile/pwd/index.js","webpack:///./site/tpls/profile/info/index.js","webpack:///./site/tpls/signin/index.js","webpack:///./site/tpls/signup/index.js","webpack:///./site/tpls/deploy/index.js","webpack:///./site/tpls/deploys/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA,GAAE;AACF,EAAC;;AAED;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA,EAAC;AACD,wBAAuB;AACvB;;AAEA,sC;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP,OAAM;AACN;AACA;AACA;AACA;AACA,QAAO;AACP,OAAM;AACN;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP,OAAM;AACN;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,OAAM;AACN,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,G;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,sBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACvCA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;;;;;;AC/BA,6B;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,GAAE;AACF,G;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA6E,SAAS;AACtF;AACA;AACA;AACA;AACA;AACA,kDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,G;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,OAAM;AACN;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AClBA;AACA;AACA;AACA;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,yDAAwD;AACxD,8BAA6B;AAC7B;AACA,OAAM,gCAAgC;AACtC;AACA,OAAM,qCAAqC;AAC3C;AACA,OAAM,0CAA0C;AAChD;AACA,OAAM;AACN;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA,G;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,GAAE;AACF,G;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,G;;;;;;ACxBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF,G;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,SAAS;AACnE;AACA;AACA;AACA,kBAAiB;;AAEjB;AACA;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAyB;AACzB;AACA,sBAAqB;AACrB,kBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,oDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,0BAAyB;;AAEzB;AACA,sBAAqB;AACrB,yCAAwC;AACxC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B,0BAAyB;;AAEzB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,sBAAqB;AACrB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT,MAAK;AACL;;;;;;;ACjPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAAiD,SAAS;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF,G;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH,GAAE;AACF,G;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,OAAM;AACN;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH,GAAE;AACF,G;;;;;;AC9EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ,GAAE;AACF,G;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,G;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;;AAEA,OAAM;AACN;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA,OAAM;AACN;;AAEA,OAAM;AACN;AACA;AACA;;AAEA,G;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,GAAE;AACF,G;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,GAAE;AACF;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH,GAAE;AACF,G;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF,G","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a10c5132e8f09ac93f1f\n **/","//加载管理模块\nrequire('site/modules/index')(angular);\nrequire('site/filters/index')(angular);\nrequire('site/services/index')(angular);\nvar app = angular.module('app', [\n\t'ui.router',\n\t'restangular',\n\t'ui.bootstrap',\n\t'siteModules',\n\t'siteServices',\n\t'siteFilters',\n\t'cgBusy',\n\t'angular-toasty',\n\t'angularFileUpload'\n]);\n\napp.run(['$rootScope', '$state', '$stateParams',\n\tfunction($rootScope, $state, $stateParams) {\n\t\t$rootScope.$state = $state;\n\t\t$rootScope.$stateParams = $stateParams;\n\t}\n]).config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t$urlRouterProvider.otherwise('/site');\n}]);\n\napp.config(['toastyConfigProvider', function(toastyConfigProvider) {\n\ttoastyConfigProvider.setConfig({\n\n\t});\n}]);\n\n// Restangular\napp.config(['RestangularProvider', function(RestangularProvider) {\n\tRestangularProvider.setBaseUrl('/api');\n}]);\n\napp.constant('constant', {\n\tARTICLES: {\n\t}\n});\nwindow.duoshuoQuery = {short_name:\"fedoc\"};\nrequire('site/index')(app);\n\nangular.bootstrap(document, ['app']);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./main.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = function(angular) {\n\tvar siteModules = angular.module('siteModules', ['ngSanitize']);\n\trequire('site/modules/header/index')(siteModules);\n\trequire('site/modules/pagination/index')(siteModules);\n\trequire('site/modules/markdown/index')(siteModules);\n\trequire('site/modules/enter/index')(siteModules);\n\trequire('site/modules/article-tags/index')(siteModules);\n\trequire('site/modules/btn-to-top/index')(siteModules);\n\trequire('site/modules/deploy-record/index')(siteModules);\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/modules/index.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\tmyModule.directive('siteHeader', [\n\t\tfunction factory() {\n\t\t\tvar directive = {\n\t\t\t\trestrict: 'E', // 指令的使用方式，包括标签，属性，类，注释\n\t\t\t\treplace: 'true',\n\t\t\t\ttemplateUrl: '/site/modules/header/index.html',\n\t\t\t\tlink: function($scope) {\n\t\t\t\t\t$scope.adminMenus = [{\n\t\t\t\t\t\ttitle: '文档管理',\n\t\t\t\t\t\tsubMenus: [{\n\t\t\t\t\t\t\ttitle: '文档列表',\n\t\t\t\t\t\t\tsref: 'articles'\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\ttitle: '新增文档',\n\t\t\t\t\t\t\tsref: 'addArticle'\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\ttitle: '分类管理',\n\t\t\t\t\t\tsubMenus: [{\n\t\t\t\t\t\t\ttitle: '新增分类',\n\t\t\t\t\t\t\tsref: 'addTag'\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\ttitle: '成员管理',\n\t\t\t\t\t\tsubMenus: [{\n\t\t\t\t\t\t\ttitle: '新增成员',\n\t\t\t\t\t\t\tsref: 'addUser'\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\ttitle: '成员列表',\n\t\t\t\t\t\t\tsref: 'users'\n\t\t\t\t\t\t}]\n\t\t\t\t\t}];\n\t\t\t\t\t$scope.userMenus = [{\n\t\t\t\t\t\ttitle: '文档管理',\n\t\t\t\t\t\tsubMenus: [{\n\t\t\t\t\t\t\ttitle: '新增文档',\n\t\t\t\t\t\t\tsref: 'addArticle'\n\t\t\t\t\t\t}]\n\t\t\t\t\t}];\n\t\t\t\t},\n\t\t\t\tscope: false,\n\t\t\t\tcontroller: ['$scope', '$rootScope', '$stateParams', '$state', '$http', function($scope, $rootScope, $stateParams, $state, $http) {\n\n\t\t\t\t\t//监听 - 缩略图被点击\n\t\t\t\t\t$scope.$on('userChange', function(event, data) {\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t$scope.user = data.user;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$scope.isLogin = function() {\n\t\t\t\t\t\t$http({\n\t\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\t\turl: \"/api/sign/isLogin\"\n\t\t\t\t\t\t}).\n\t\t\t\t\t\tsuccess(function(data, status, headers, config) {\n\t\t\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\t\t\tvar user = data.msg.user;\n\t\t\t\t\t\t\t\t$rootScope.user = user;\n\t\t\t\t\t\t\t\t$scope.user = user;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\t$scope.isLogin();\n\t\t\t\t\t$scope.searchBox = {\n\t\t\t\t\t\tkeyword: ''\n\t\t\t\t\t};\n\t\t\t\t\t$scope.searchKeyword = function() {\n\t\t\t\t\t\t$state.go('articles', {\n\t\t\t\t\t\t\ttag: $stateParams.tag,\n\t\t\t\t\t\t\tpage: $stateParams.page,\n\t\t\t\t\t\t\tkeyword: $scope.searchBox.keyword\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\t$scope.signout = function($event) {\n\t\t\t\t\t\twindow.location.replace('\\/api\\/sign\\/out');\n\t\t\t\t\t\t$event.preventDefault();\n\t\t\t\t\t\t$event.stopPropagation();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t}]\n\t\t\t};\n\t\t\treturn directive;\n\t\t}\n\t]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/modules/header/index.js\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n    myModule.directive('fedocPagination', ['$location',\n        function factory($location) {\n            var directive = {\n                restrict: 'E', //指令的使用方式，包括标签，属性，类，注释\n                templateUrl: '/site/modules/pagination/index.html', //从指定的url地址加载模板\n                replace: true, // //是否用模板替换当前元素，若为false，则append在当前元素上\n                transclude: true, //是否将当前元素的内容转移到模板中\n                require: \"ngModel\",\n                scope: {\n                    ngModel: '=',\n                    turn: '&'\n                },\n                link: function($scope, $element, $attrs, $transclude, ngModel) {\n                    $scope.$watch('ngModel', function(value) {\n                        if (value) {\n                            $scope.pagination = value;\n                        }\n                    });\n\n                    if (!$attrs.turn) {\n                        //刷新页面\n                        $scope.search = function(page) {\n                            var query = $location.search();\n                            query.page = page;\n                            $location.path($location.path()).search(query);\n                        };\n                    } else {\n                        $scope.search = function(page) {\n                            $scope.turn({\n                                data: page\n                            });\n                        };\n                    }\n                }\n            };\n            return directive;\n        }\n    ]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/modules/pagination/index.js\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\n    var md = require('md')({\n        html: true,\n        linkify: true,\n        typographer: true\n    });\n    var addLinkTarget = function(code) {\n        var pattern = /a href=/g;\n        return code.replace(pattern, \"a target='_blank' href=\");\n    };\n    myModule.\n    directive('fedocMarkdown', ['$sanitize', function($sanitize) {\n        return {\n            restrict: 'AE',\n            link: function(scope, element, attrs) {\n                if (attrs.fedocMarkdown) {\n                    scope.$watch(attrs.fedocMarkdown, function(newVal) {\n                        var html = newVal ? $sanitize(md.render(newVal)) : '';\n                        html = addLinkTarget(html);\n                        element.html(html);\n                    });\n                } else {\n                    var html = $sanitize(md.render(element.text()));\n                    html = addLinkTarget(html);\n                    element.html(html);\n                }\n            }\n        };\n    }]);\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/modules/markdown/index.js\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = markdownit;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"markdownit\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\t//回车按钮\n\tmyModule.directive('fedocEnter', function() {\n\t\treturn {\n\t\t\trestrict: 'AC',\n\t\t\tlink: function($scope, $element, $attr) {\n\t\t\t\t$element.bind(\"keydown\", function($event) {\n\t\t\t\t\tif (event.which === 13) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t$scope.$eval($attr.fedocEnter);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$event.stopPropagation();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/modules/enter/index.js\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n    myModule.directive('articleTags', [\n        function factory() {\n            var directive = {\n                restrict: 'E', // 指令的使用方式，包括标签，属性，类，注释\n                replace: 'true',\n                templateUrl: '/site/modules/article-tags/index.html',\n                scope: false,\n                controller: ['$scope', 'toasty', '$rootScope', 'TagService', '$stateParams', '$state', function($scope, toasty, $rootScope, TagService, $stateParams, $state) {\n                    TagService.listAll().then(function(data) {\n                        if (data.code === 200) {\n                            $scope.tags = data.msg.tags;\n                        }\n                    });\n                    $scope.tag = $stateParams.tag || '';\n\n                    $scope.choose = function($event, tag) {\n                        $scope.tag = tag;\n                        var opts = {\n                            tag: tag\n                        };\n                        if (tag !== $stateParams.tag) {\n                            opts.page = 1;\n                        }\n                        $state.go('articles', opts);\n                        $event.stopPropagation();\n                        return;\n                    };\n                    $scope.delTag = function($event, tag) {\n                        if (confirm('确认删除该分类吗')) {\n                            TagService.remove(tag._id).then(function(data) {\n                                if (data.code === 200) {\n                                    toasty.success('删除分类成功');\n                                    for (var i = 0, len = $scope.tags.length; i < len; i++) {\n                                        if ($scope.tags[i]._id === tag._id) {\n                                            $scope.tags.splice(i, 1);\n                                            if ($scope.tag === tag.name) {\n                                                $state.go('articles', {\n                                                    tag: ''\n                                                });\n                                            }\n                                            return;\n                                        }\n                                    }\n                                }\n                            });\n                        }\n                        $event.stopPropagation();\n                        return;\n                    };\n                }]\n            };\n            return directive;\n        }\n    ]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/modules/article-tags/index.js\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\tmyModule.directive('btnToTop', ['$window',\n\t\tfunction factory($window) {\n\t\t\tvar directive = {\n\t\t\t\trestrict: 'E', // 指令的使用方式，包括标签，属性，类，注释\n\t\t\t\treplace: 'true',\n\t\t\t\ttemplate: ' <div class=\"btn-to-top\"></div>',\n\t\t\t\tscope: false,\n\t\t\t\tlink: function($scope, $element, $attrs) {\n\t\t\t\t\tangular.element($window).bind(\"scroll\", function(e) {\n\t\t\t\t\t\tvar scrollTop = window.document.body.scrollTop;\n\t\t\t\t\t\tif (scrollTop > 40) {\n\t\t\t\t\t\t\t$element.addClass('active');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$element.removeClass('active');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$element.on('click',function(){\n\t\t\t\t\t\twindow.document.body.scrollTop = 0;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn directive;\n\t\t}\n\t]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/modules/btn-to-top/index.js\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\tmyModule.directive('deployRecord', [\n\t\tfunction factory() {\n\t\t\tvar directive = {\n\t\t\t\trestrict: 'E', // 指令的使用方式，包括标签，属性，类，注释\n\t\t\t\treplace: 'true',\n\t\t\t\ttemplateUrl: '/site/modules/deploy-record/index.html',\n\t\t\t\trequire: \"ngModel\",\n                scope: {\n                    ngModel: '='\n                },\n\t\t\t\tlink: function($scope) {\n\t\t\t\t\tconsole.log($scope.ngModel)\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn directive;\n\t\t}\n\t]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/modules/deploy-record/index.js\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = function(angular) {\n\tvar siteFilters = angular.module('siteFilters', []);\n\trequire('site/filters/date/index')(siteFilters);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/filters/index.js\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\tmyModule.filter('dayDisplay', ['$filter',\n\t\tfunction($filter) {\n\t\t\tvar standardDateFilterFn = $filter('date');\n\t\t\treturn function(data) {\n\t\t\t\tif (data == null || data == '') {\n\t\t\t\t\treturn '';\n\t\t\t\t} else {\n\t\t\t\t\treturn standardDateFilterFn(data, 'yyyy-MM-dd');\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t]);\n\tmyModule.filter('dateDisplay', ['$filter',\n\t\tfunction($filter) {\n\t\t\tvar standardDateFilterFn = $filter('date');\n\t\t\treturn function(data) {\n\t\t\t\tif (data == null || data == '') {\n\t\t\t\t\treturn '';\n\t\t\t\t} else {\n\t\t\t\t\treturn standardDateFilterFn(data, 'yyyy-MM-dd HH:mm');\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t]);\n\n\tmyModule.filter('dateAgo', ['$filter',\n\t\tfunction($filter) {\n\t\t\tvar standardDateFilterFn = $filter('date');\n\t\t\treturn function(data) {\n\t\t\t\tif (data == null || data == '') {\n\t\t\t\t\treturn '';\n\t\t\t\t} else {\n\t\t\t\t\tvar nowSt = new Date().getTime();\n\t\t\t\t\tvar meSt = new Date(data).getTime();\n\t\t\t\t\tvar timeDistance = parseInt((nowSt - meSt) / 1000); //差距多少秒\n\t\t\t\t\tif (timeDistance < 60) { //小于60秒\n\t\t\t\t\t\treturn parseInt(timeDistance) + '秒前';\n\t\t\t\t\t} else if (timeDistance < 3600) { //小于60分钟\n\t\t\t\t\t\treturn parseInt(timeDistance / 60) + '分钟前';\n\t\t\t\t\t} else if (timeDistance < 3600 * 24) { //小于24小时\n\t\t\t\t\t\treturn parseInt(timeDistance / 3600) + '小时前';\n\t\t\t\t\t} else if (timeDistance < 3600 * 24 * 30) { //小于30天\n\t\t\t\t\t\treturn parseInt(timeDistance / (3600 * 24)) + '天前';\n\t\t\t\t\t} else if (timeDistance < 3600 * 24 * 30 * 365) {\n\t\t\t\t\t\treturn parseInt(timeDistance / (3600 * 24 * 30)) + '月前';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn parseInt(timeDistance / (3600 * 24 * 30 * 12)) + '年前';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t]);\n\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/filters/date/index.js\n ** module id = 11\n ** module chunks = 0\n **/","module.exports = function(angular) {\n\tvar siteServices = angular.module('siteServices', ['restangular']);\n\trequire('site/services/article/index')(siteServices);\n\trequire('site/services/user/index')(siteServices);\n\trequire('site/services/tag/index')(siteServices);\n\trequire('site/services/deploy/index')(siteServices);\n\trequire('site/services/modal/index')(siteServices);\n\trequire('site/services/deploy-read/index')(siteServices);\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/services/index.js\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\tmyModule.factory('ArticleService', ['Restangular', '$timeout',\n\t\tfunction(Restangular, $timeout) {\n\t\t\tvar baseRoute = Restangular.all('articles');\n\t\t\treturn {\n\t\t\t\tlist: function(query) {\n\t\t\t\t\treturn baseRoute.customGET('', query);\n\t\t\t\t},\n\t\t\t\tgetOne: function(articleId) {\n\t\t\t\t\treturn baseRoute.one(articleId)\n\t\t\t\t\t\t.customGET();\n\t\t\t\t},\n\t\t\t\tremove: function(articleId) {\n\t\t\t\t\treturn baseRoute.one(articleId)\n\t\t\t\t\t\t.remove();\n\t\t\t\t},\n\t\t\t\tcreate: function(article) {\n\t\t\t\t\treturn baseRoute.customPOST(article);\n\t\t\t\t},\n\t\t\t\tupdate: function(articleId, article) {\n\t\t\t\t\treturn baseRoute.one(articleId).customPUT(article);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/services/article/index.js\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\tmyModule.factory('UserService', ['Restangular', '$timeout',\n\t\tfunction(Restangular, $timeout) {\n\t\t\tvar baseRoute = Restangular.all('users');\n\t\t\treturn {\n\t\t\t\tlist: function(query) {\n\t\t\t\t\treturn baseRoute.customGET('', query);\n\t\t\t\t},\n\t\t\t\tlistAll: function(query) {\n\t\t\t\t\treturn baseRoute.customGET('all', query);\n\t\t\t\t},\n\t\t\t\tgetOne: function(userId) {\n\t\t\t\t\treturn baseRoute.one(userId)\n\t\t\t\t\t\t.customGET();\n\t\t\t\t},\n\t\t\t\tremove: function(userId) {\n\t\t\t\t\treturn baseRoute.one(userId)\n\t\t\t\t\t\t.remove();\n\t\t\t\t},\n\t\t\t\tcreate: function(user) {\n\t\t\t\t\treturn baseRoute.customPOST(user);\n\t\t\t\t},\n\t\t\t\tupdateInfo: function(userId, user) {\n\t\t\t\t\treturn baseRoute.one(userId, 'info').customPUT(user);\n\t\t\t\t},\n\t\t\t\tupdatePwd: function(userId, user) {\n\t\t\t\t\treturn baseRoute.one(userId, 'pwd').customPUT(user);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/services/user/index.js\n ** module id = 14\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\tmyModule.factory('TagService', ['Restangular', '$timeout',\n\t\tfunction(Restangular, $timeout) {\n\t\t\tvar baseRoute = Restangular.all('tags');\n\t\t\treturn {\n\t\t\t\tlistAll: function(query) {\n\t\t\t\t\treturn baseRoute.customGET('', query);\n\t\t\t\t},\n\t\t\t\tgetOne: function(tagId) {\n\t\t\t\t\treturn baseRoute.one(tagId)\n\t\t\t\t\t\t.customGET();\n\t\t\t\t},\n\t\t\t\tremove: function(tagId) {\n\t\t\t\t\treturn baseRoute.one(tagId)\n\t\t\t\t\t\t.remove();\n\t\t\t\t},\n\t\t\t\tcreate: function(tag) {\n\t\t\t\t\treturn baseRoute.customPOST(tag);\n\t\t\t\t},\n\t\t\t\tupdate: function(tagId, tag) {\n\t\t\t\t\treturn baseRoute.one(tagId).customPUT(tag);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/services/tag/index.js\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\tmyModule.factory('DeployService', ['Restangular', '$timeout',\n\t\tfunction(Restangular, $timeout) {\n\t\t\tvar baseRoute = Restangular.all('deploys');\n\t\t\treturn {\n\t\t\t\tlist: function(query) {\n\t\t\t\t\treturn baseRoute.customGET('', query);\n\t\t\t\t},\n\t\t\t\tgetOne: function(deployId) {\n\t\t\t\t\treturn baseRoute.one(deployId)\n\t\t\t\t\t\t.customGET();\n\t\t\t\t},\n\t\t\t\tgetConfig: function() {\n\t\t\t\t\treturn baseRoute.customGET('config');\n\t\t\t\t},\n\t\t\t\trun: function(deployId) {\n\t\t\t\t\treturn baseRoute.one(deployId,'run').customPUT();\n\t\t\t\t},\n\t\t\t\tremove: function(deployId) {\n\t\t\t\t\treturn baseRoute.one(deployId)\n\t\t\t\t\t\t.remove();\n\t\t\t\t},\n\t\t\t\tcreate: function(article) {\n\t\t\t\t\treturn baseRoute.customPOST(article);\n\t\t\t\t},\n\t\t\t\tupdate: function(deployId, article) {\n\t\t\t\t\treturn baseRoute.one(deployId).customPUT(article);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/services/deploy/index.js\n ** module id = 16\n ** module chunks = 0\n **/","module.exports = function(myModule) {\n\tmyModule.factory('$modalService', ['$modal', '$modalStack', function($modal, $modalStack) {\n\t\tvar defaultOptions = {\n\t\t\tbackdrop: true,\n\t\t\tkeyboard: true,\n\t\t\twindowClass: ''\n\t\t};\n\t\treturn {\n\t\t\tshow: function(options) {\n\t\t\t\tvar realOpt = _.cloneDeep(defaultOptions);\n\t\t\t\tangular.extend(realOpt, options || {});\n\t\t\t\treturn $modal.open(realOpt).result;\n\t\t\t},\n\t\t\tdismissAll: function() {\n\t\t\t\t$modalStack.dismissAll();\n\t\t\t}\n\t\t};\n\t}]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/services/modal/index.js\n ** module id = 17\n ** module chunks = 0\n **/"," module.exports = function(myModule) {\n  myModule.service('deployRead', ['$modalService', '$q',\n        function factory($modalService, $q) {\n            this.init = function(options) {\n               var deploy = options.deploy;\n                var delay = $q.defer();\n                $modalService.show({\n                    templateUrl: '/site/services/deploy-read/index.html',\n                    width: 600,\n                    height: 345,\n                    controller: ['$scope', '$modalInstance', \n                        function($scope, $modalInstance) {\n                            $scope.deploy = deploy;\n                            $scope.close = function() {\n                                $modalInstance.close();\n                            };\n                          \n                        }\n                    ]\n                });\n                return delay.promise;\n            };\n        }\n    ]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/services/deploy-read/index.js\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = function(app) {\n\n\tapp.controller('SiteController', ['$scope', '$rootScope', '$http', '$state', '$window',\n\t\tfunction($scope, $rootScope, $http, $state, $window) {\n\t\t\t$scope.user = {\n\t\t\t\temail: 'zhangc@fxiaoke.com',\n\t\t\t\tpwd: '123456'\n\t\t\t};\n\t\t\t$state.go('articles');\n\t\t}\n\t]).config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider\n\t\t\t.state('site', {\n\t\t\t\turl: '/site',\n\t\t\t\ttemplateUrl: '/site/index.html',\n\t\t\t\tpageTitle: '主页',\n\t\t\t\tcontroller: 'SiteController'\n\t\t\t});\n\t}]);\n\n\trequire('site/tpls/articles/index')(app);\n\trequire('site/tpls/article/index')(app);\n\trequire('site/tpls/users/index')(app);\n\trequire('site/tpls/user/index')(app);\n\trequire('site/tpls/tag/index')(app);\n\trequire('site/tpls/profile/index')(app);\n\trequire('site/tpls/signin/index')(app);\n\trequire('site/tpls/signup/index')(app);\n\trequire('site/tpls/deploy/index')(app);\n\trequire('site/tpls/deploys/index')(app);\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/index.js\n ** module id = 19\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('ArticleListController', [\n\t\t'$scope',\n\t\t'$state',\n\t\t'$stateParams',\n\t\t'ArticleService',\n\t\t'constant',\n\t\tfunction($scope, $state, $stateParams, ArticleService, constant) {\n\t\t\t$scope.query = {\n\t\t\t\tkeyword:$stateParams.keyword,\n\t\t\t\tpage: $stateParams.page,\n\t\t\t\ttag: $stateParams.tag\n\t\t\t};\n\t\t\t$scope.list = function(_query) {\n\t\t\t\tvar query = _.extend($scope.query, _query);\n\t\t\t\tArticleService.list(query).then(function(data) {\n\t\t\t\t\t$scope.articles = data.msg.articles;\n\t\t\t\t\t$scope.pagination = data.msg.pagination;\n\t\t\t\t\t$scope.count = data.msg.count;\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.init = function() {\n\t\t\t\t$scope.list();\n\t\t\t};\n\t\t}\n\t]);\n\tapp.config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider.state('articles', {\n\t\t\turl: '/articles?page&tag&keyword',\n\t\t\ttemplateUrl: '/site/tpls/articles/index.html',\n\t\t\tpageTitle: '文档列表',\n\t\t\tcontroller: 'ArticleListController'\n\t\t});\n\t}]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/articles/index.js\n ** module id = 20\n ** module chunks = 0\n **/","module.exports = function(app) {\n    app.controller('ArticleController', [\n        '$scope',\n        '$state',\n        '$stateParams',\n        'ArticleService',\n        'UserService',\n        'toasty',\n        'isAdd',\n        'constant',\n        'TagService',\n        '$upload',\n        '$rootScope',\n        function($scope, $state, $stateParams, ArticleService, UserService, toasty, isAdd, constant, TagService, $upload, $rootScope) {\n            var articleId = $stateParams._id;\n            var articleEditor;\n            var editorUploadCallback;\n            $scope.article = {\n                tags: [],\n                isPreview: false\n            };\n            $scope.create = function() {\n                $scope.article.content = articleEditor.value();\n                ArticleService.create($scope.article).then(function(data) {\n                    if (data.code === 200) {\n                        toasty.success('创建文档成功');\n                        $state.go('articles');\n                    } else {\n                        toasty.error(data.msg);\n                    }\n                });\n            };\n            $scope.filterAttachmentImgs = function(attachments) {\n                return _.filter(attachments, function(item) {\n                    return /\\.(gif|jpg|jpeg|bmp|png)$/.test(item.fileName);\n                });\n            };\n\t\t\t\t\t\t$scope.filterAttachment = function(attachments) {\n\t\t\t\t\t\t\t\treturn _.filter(attachments, function(item) {\n\t\t\t\t\t\t\t\t\t\treturn !/\\.(gif|jpg|jpeg|bmp|png)$/.test(item.fileName);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n            $scope.init = function() {\n                TagService.listAll().then(function(data) {\n                    if (data.code === 200) {\n                        var tags = data.msg.tags;\n                        $scope.tags = [];\n                        for (var i = 0, len = tags.length; i < len; i++) {\n                            $scope.tags.push(tags[i].name);\n                        }\n                    }\n                });\n\n                if (isAdd) {\n                    $scope.article.isAdd = true;\n                } else {\n\n                    ArticleService.getOne(articleId).then(function(data) {\n                        if (data.code === 200) {\n                            var article = data.msg;\n                            $scope.article = article;\n                            if ($rootScope.user && $rootScope.user.isAdmin) {\n                                $scope.initAllUsers();\n                            }\n                            $scope.initReplys();\n                        } else {\n                            toasty.error(data.msg);\n                        }\n                    });\n                }\n            };\n            $scope.initReplys = function() {\n                var el = document.createElement('div'),\n                    $ds = $('#duoshuo-box'),\n                    article = $scope.article;\n                el.setAttribute('data-thread-key', article._id);\n                el.setAttribute('data-url', 'http://fe.firstshare.cn/#/articles/' + article._id);\n                el.setAttribute('data-title', article.title);\n                DUOSHUO.EmbedThread(el);\n                $ds.append(el);\n            };\n\n            $scope.initAllUsers = function() {\n                UserService.listAll().then(function(data) {\n                    if (data.code === 200) {\n                        $scope.users = data.msg.users;\n                    }\n                });\n            };\n\n            $scope.initEditor = function() {\n                articleEditor = new SimpleMDE({\n                    element: document.getElementById('editor'),\n                    toolbar: [\"bold\", \"italic\", \"heading\", \"|\", \"quote\", \"unordered-list\", \"ordered-list\", \"|\", \"link\", {\n                        name: \"image\",\n                        action: function(editor) {\n                            $('.btn-simplemde-upload').click();\n\n                            editorUploadCallback = function(data) {\n                                editor.value(editor.value() + '![图片](' + data.src + ')');\n                            };\n                        },\n                        className: \"fa fa-image\"\n                    }, \"|\", \"preview\", \"side-by-side\", \"fullscreen\", \"guide\"]\n                });\n\n                articleEditor.value($scope.article.content);\n            };\n\n            $scope.del = function() {\n                if (confirm('确认删除文档吗')) {\n                    ArticleService.remove($scope.article._id).then(function(data) {\n                        if (data.code === 200) {\n                            toasty.success('删除文档成功');\n                            $state.go('articles', {\n                                tag: ''\n                            });\n                        }\n                    });\n                }\n            };\n            //上传附件\n            $scope.uploadAttachment = function(files) {\n                for (var i = 0, len = files.length; i < len; i++) {\n                    _uploadAttachment(files[i]);\n                }\n            };\n            $scope.uploadSimplemdeAttachment = function(files) {\n                if (!files || files.length === 0) {\n                    return;\n                }\n                var file = files[0];\n                $rootScope.waitPromise = $upload.upload({\n                        url: '/api/attachments/upload',\n                        file: file\n                    })\n                    .progress(function(evt) {\n\n                    })\n                    .success(function(data, status, headers, config) {\n                        if (data.code === 200) {\n                            editorUploadCallback({\n                                src: data.msg.fileUrl\n                            });\n                            editorUploadCallback = null;\n                        } else {\n\n                        }\n                    })\n                    .error(function() {});\n            };\n\n            $scope.delAttachment = function(index) {\n                $scope.article.attachments.splice(index, 1);\n            };\n\n            function _uploadAttachment(file) {\n                $scope.uploading = true;\n                $rootScope.waitPromise = $upload.upload({\n                        url: '/api/attachments/upload',\n                        file: file\n                    })\n                    .progress(function(evt) {\n\n                    })\n                    .success(function(data, status, headers, config) {\n                        if (data.code === 200) {\n                            $scope.article.attachments = $scope.article.attachments || [];\n                            $scope.article.attachments.push({\n                                fileUrl: data.msg.fileUrl,\n                                fileName: data.msg.fileName\n                            });\n                        } else {\n\n                        }\n                        $scope.uploading = false;\n                    })\n                    .error(function() {\n                        $scope.uploading = false;\n                    });\n            }\n\n\n            $scope.init();\n            $scope.update = function() {\n                ArticleService.update(articleId, {\n                    title: $scope.article.title,\n                    content: articleEditor.value(),\n                    tags: $scope.article.tags,\n                    user: $scope.article.user._id,\n                    attachments: $scope.article.attachments\n                }).then(function(data) {\n                    if (data.code === 200) {\n                        toasty.success('更新文档成功');\n                        window.location.reload();\n                    } else {\n                        toasty.error(data.msg);\n                    }\n                });\n            };\n\n            $scope.isCheckTag = function(tag) {\n                return $scope.article.tags.indexOf(tag) > -1;\n            };\n\n            //选择分类\n            $scope.chooseTag = function($event, tag) {\n                var curTarget = $event.currentTarget;\n                var index = $scope.article.tags.indexOf(tag);\n                //如果被选中\n                if (curTarget.checked) {\n                    if (index === -1) $scope.article.tags.push(tag);\n                } else {\n                    if (index !== -1) $scope.article.tags.splice(index, 1);\n                }\n            };\n\n        }\n    ]).config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n        $stateProvider.state('addArticle', {\n            url: '/article/add',\n            templateUrl: '/site/tpls/article/index.html',\n            controller: 'ArticleController',\n            pageTitle: '新增文章',\n            resolve: {\n                isAdd: [function() {\n                    return true;\n                }]\n            }\n        }).state('viewArticle', {\n            url: '/articles/:_id',\n            templateUrl: '/site/tpls/article/index.html',\n            controller: 'ArticleController',\n            pageTitle: '查看文章',\n            resolve: {\n                isAdd: [function() {\n                    return false;\n                }]\n            }\n        });\n    }]);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/article/index.js\n ** module id = 21\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('UserListController', [\n\t\t'$scope',\n\t\t'$state',\n\t\t'$stateParams',\n\t\t'UserService',\n\t\t'constant',\n\t\t'toasty',\n\t\tfunction($scope, $state, $stateParams, UserService, constant,toasty) {\n\t\t\t$scope.query = {\n\t\t\t\tpage: $stateParams.page,\n\t\t\t};\n\t\t\t$scope.list = function(_query) {\n\t\t\t\tvar query = _.extend($scope.query, _query);\n\t\t\t\tUserService.list(query).then(function(data) {\n\t\t\t\t\t$scope.users = data.msg.users;\n\t\t\t\t\t$scope.pagination = data.msg.pagination;\n\t\t\t\t\t$scope.count = data.msg.count;\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.del = function(user) {\n\t\t\t\tif (confirm('确认删除用户吗')) {\n\t\t\t\t\tUserService.remove(user._id).then(function(data) {\n\t\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\t\ttoasty.success('删除用户');\n\t\t\t\t\t\t\tfor (var i = 0, len = $scope.users.length; i < len; i++) {\n\t\t\t\t\t\t\t\tif ($scope.users[i]._id === user._id) {\n\t\t\t\t\t\t\t\t\t$scope.users.splice(i, 1);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\t$scope.init = function() {\n\t\t\t\t$scope.list();\n\t\t\t};\n\t\t}\n\t]);\n\tapp.config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider.state('users', {\n\t\t\turl: '/users?page',\n\t\t\ttemplateUrl: '/site/tpls/users/index.html',\n\t\t\tpageTitle: '文档列表',\n\t\t\tcontroller: 'UserListController'\n\t\t});\n\t}]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/users/index.js\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('UserController', [\n\t\t'$scope',\n\t\t'$state',\n\t\t'$stateParams',\n\t\t'UserService',\n\t\t'toasty',\n\t\t'isAdd',\n\t\tfunction($scope, $state, $stateParams, UserService, toasty, isAdd, constant) {\n\t\t\t$scope.form = {\n\t\t\t\temail: ''\n\t\t\t};\n\t\t\t$scope.create = function() {\n\t\t\t\tvar form = $scope.form;\n\t\t\t\tUserService.create({\n\t\t\t\t\temail: form.email\n\t\t\t\t}).then(function(data) {\n\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\ttoasty.success('创建成员成功');\n\t\t\t\t\t\t$state.go('users');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t]).config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider.state('addUser', {\n\t\t\turl: '/user/add',\n\t\t\ttemplateUrl: '/site/tpls/user/index.html',\n\t\t\tcontroller: 'UserController',\n\t\t\tpageTitle: '新增成员',\n\t\t\tresolve: {\n\t\t\t\tisAdd: [function() {\n\t\t\t\t\treturn true;\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\t}]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/user/index.js\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('TagController', [\n\t\t'$scope',\n\t\t'$state',\n\t\t'$stateParams',\n\t\t'TagService',\n\t\t'toasty',\n\t\t'isAdd',\n\t\t'constant',\n\t\tfunction($scope, $state, $stateParams, TagService, toasty, isAdd, constant) {\n\t\t\tvar tagId = $stateParams._id;\n\t\t\t$scope.tag = {\n\t\t\t\tname: ''\n\t\t\t};\n\t\t\t$scope.create = function() {\n\t\t\t\tTagService.create($scope.tag).then(function(data) {\n\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\ttoasty.success('创建分类成功');\n\t\t\t\t\t\t$state.go('articles');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\t$scope.init = function() {\n\t\t\t\tif (isAdd) {\n\t\t\t\t\t$scope.tag.isAdd = true;\n\t\t\t\t} else {\n\t\t\t\t\tTagService.getOne(tagId).then(function(data) {\n\t\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\t\t$scope.tag = data.msg;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\n\t\t\t$scope.init();\n\t\t\t$scope.update = function() {\n\t\t\t\tTagService.update(tagId, {\n\t\t\t\t\tname: $scope.tag.name,\n\t\t\t\t\tsort: $scope.tag.sort\n\t\t\t\t}).then(function(data) {\n\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\ttoasty.success('更新分类成功');\n\t\t\t\t\t\t$state.go('articles');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t}\n\t]).config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider.state('addTag', {\n\t\t\turl: '/tag/add',\n\t\t\ttemplateUrl: '/site/tpls/tag/index.html',\n\t\t\tcontroller: 'TagController',\n\t\t\tpageTitle: '新增分类',\n\t\t\tresolve: {\n\t\t\t\tisAdd: [function() {\n\t\t\t\t\treturn true;\n\t\t\t\t}]\n\t\t\t}\n\t\t}).state('viewTag', {\n\t\t\turl: '/tags/:_id',\n\t\t\ttemplateUrl: '/site/tpls/tag/index.html',\n\t\t\tcontroller: 'TagController',\n\t\t\tpageTitle: '查看分类',\n\t\t\tresolve: {\n\t\t\t\tisAdd: [function() {\n\t\t\t\t\treturn false;\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\t}]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/tag/index.js\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = function(app) {\n\trequire('site/tpls/profile/pwd/index')(app);\n\trequire('site/tpls/profile/info/index')(app);\n\t\n\tapp.controller('ProfileController', ['$scope', '$rootScope', '$http', '$state', 'toasty',\n\t\tfunction($scope, $rootScope, $http, $state, toasty) {\n\t\t\tif ($state.is('profile')) $state.go('profile.info');\n\t\t}\n\t]);\n\n\tapp.config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider.state('profile', {\n\t\t\t\turl: '/profile',\n\t\t\t\ttemplateUrl: '/site/tpls/profile/index.html',\n\t\t\t\tcontroller: 'ProfileController',\n\t\t\t\tpageTitle: '基本信息'\n\t\t\t})\n\t\t\t.state('profile.info', {\n\t\t\t\turl: '/info',\n\t\t\t\ttemplateUrl: '/site/tpls/profile/info/index.html',\n\t\t\t\tcontroller: 'ProfileInfoController',\n\t\t\t\tpageTitle: '基本信息'\n\t\t\t}).state('profile.pwd', {\n\t\t\t\turl: '/pwd',\n\t\t\t\ttemplateUrl: '/site/tpls/profile/pwd/index.html',\n\t\t\t\tcontroller: 'ProfilePwdController',\n\t\t\t\tpageTitle: '密码修改'\n\t\t\t});\n\t}]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/profile/index.js\n ** module id = 25\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('ProfilePwdController', ['$scope', '$rootScope', '$http', '$state', 'toasty','UserService',\n\t\tfunction($scope, $rootScope, $http, $state, toasty,UserService) {\n\t\t\t$scope.updatePwd = function() {\n\t\t\t\tUserService.updatePwd($rootScope.user._id,{\n\t\t\t\t\tpwd: $scope.form.pwd,\n\t\t\t\t\tnpwd: $scope.form.npwd,\n\t\t\t\t\tcpwd:$scope.form.cpwd\n\t\t\t\t}).then(function(data) {\n\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\ttoasty.success('修改密码成功');\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/profile/pwd/index.js\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('ProfileInfoController', ['$scope', '$rootScope', '$http', '$state', 'toasty', 'UserService', '$upload',\n\t\tfunction($scope, $rootScope, $http, $state, toasty, UserService, $upload) {\n\t\t\tvar user = $rootScope.user;\n\t\t\t$scope.form = {\n\t\t\t\tavatar: user.avatar,\n\t\t\t\temail: user.email,\n\t\t\t\tnickname: user.nickname\n\t\t\t};\n\t\t\t$scope.updateInfo = function() {\n\t\t\t\tUserService.updateInfo(user._id,{\n\t\t\t\t\tnickname: $scope.form.nickname,\n\t\t\t\t\tavatar: $scope.form.avatar\n\t\t\t\t}).then(function(data) {\n\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\ttoasty.success('修改信息成功');\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\t$scope.uploadAvatar = function(files) {\n\t\t\t\tvar file = files[0];\n\t\t\t\t$scope.uploading = true;\n\t\t\t\t$upload.upload({\n\t\t\t\t\t\turl: '/api/attachments/upload',\n\t\t\t\t\t\tfile: file\n\t\t\t\t\t})\n\t\t\t\t\t.progress(function(evt) {\n\n\t\t\t\t\t})\n\t\t\t\t\t.success(function(data, status, headers, config) {\n\t\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\t\t$scope.form.avatar = data.msg.fileUrl;\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$scope.uploading = false;\n\t\t\t\t\t})\n\t\t\t\t\t.error(function() {\n\n\t\t\t\t\t});\n\t\t\t};\n\t\t}\n\t]);\n\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/profile/info/index.js\n ** module id = 27\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('SigninController', ['$scope', '$rootScope', '$http', '$state', 'toasty',\n\t\tfunction($scope, $rootScope, $http, $state, toasty) {\n\t\t\t$scope.login = function() {\n\t\t\t\t$http({\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\turl: \"/api/sign/login\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\temail: $scope.form.email || '',\n\t\t\t\t\t\tpwd: $scope.form.pwd || ''\n\t\t\t\t\t}\n\t\t\t\t}).\n\t\t\t\tsuccess(function(data, status, headers, config) {\n\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\tvar user = data.msg.user;\n\t\t\t\t\t\t$rootScope.user = user;\n\t\t\t\t\t\ttoasty.success('登陆成功');\n\t\t\t\t\t\t$rootScope.$broadcast('userChange', {\n\t\t\t\t\t\t\tuser: user\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$state.go('articles');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t]);\n\n\tapp.config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider\n\t\t\t.state('signin', {\n\t\t\t\turl: '/signin',\n\t\t\t\ttemplateUrl: '/site/tpls/signin/index.html',\n\t\t\t\tcontroller: 'SigninController',\n\t\t\t\tpageTitle: '登录'\n\t\t\t});\n\t}]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/signin/index.js\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('SignupController', ['$scope', '$rootScope', '$http', '$state', 'toasty',\n\t\tfunction($scope, $rootScope, $http, $state, toasty) {\n\t\t\t$scope.create = function() {\n\t\t\t\t$http({\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\turl: \"/api/sign/reg\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\temail: $scope.form.email || '',\n\t\t\t\t\t\tpwd: $scope.form.pwd || ''\n\t\t\t\t\t}\n\t\t\t\t}).\n\t\t\t\tsuccess(function(data, status, headers, config) {\n\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\tvar user = data.msg.user;\n\t\t\t\t\t\t$rootScope.user = user;\n\t\t\t\t\t\ttoasty.success('注册成功');\n\t\t\t\t\t\t$rootScope.$broadcast('userChange', {\n\t\t\t\t\t\t\tuser: user\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$state.go('articles');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t]);\n\n\tapp.config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider\n\t\t\t.state('signup', {\n\t\t\t\turl: '/signup',\n\t\t\t\ttemplateUrl: '/site/tpls/signup/index.html',\n\t\t\t\tcontroller: 'SignupController',\n\t\t\t\tpageTitle: '登录'\n\t\t\t});\n\t}]);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/signup/index.js\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('DeployController', [\n\t\t'$scope',\n\t\t'$state',\n\t\t'$stateParams',\n\t\t'DeployService',\n\t\t'toasty',\n\t\t'isAdd',\n\t\t'constant',\n\t\tfunction($scope, $state, $stateParams, DeployService, toasty, isAdd, constant) {\n\t\t\tvar tagId = $stateParams._id;\n\t\t\tvar now = new Date();\n\t\t\tnow.setHours(22);\n\t\t\tnow.setMinutes(0);\n\t\t\t$scope.deploy = {\n\t\t\t\treason:'修复了',\n\t\t\t\trange:'内测',\n\t\t\t\tname:'fs',\n\t\t\t\tversion:'4.7',\n\t\t\t\tdeveloper:'zhangc',\n\t\t\t\trunTime:now \n\t\t\t};\n\t\t\t$scope.init = function(){\n\t\t\t\tDeployService.getConfig().then(function(data){\n\t\t\t\t\tvar config = data.msg;\n\t\t\t\t\tvar modules = [];\n\t\t\t\t\tfor (var key in config) {\n\t\t\t\t\t\tmodules.push(key);\n\t\t\t\t\t}\n\t\t\t\t\t$scope.modules = modules;\n\n\t\t\t\t\t$scope.$watch('deploy.name',function(newVal){\n\t\t\t\t\t\tif(newVal){\n\t\t\t\t\t\t\t$scope.versions = config[newVal];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.create = function() {\n\t\t\t\tDeployService.create($scope.deploy).then(function(data) {\n\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\ttoasty.success('创建分类成功');\n\t\t\t\t\t\t$state.go('deploys');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\n\n\n\t\t}\n\t]).config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider.state('deployApply', {\n\t\t\turl: '/deploy/add',\n\t\t\ttemplateUrl: '/site/tpls/deploy/index.html',\n\t\t\tcontroller: 'DeployController',\n\t\t\tpageTitle: '申请部署代码',\n\t\t\tresolve: {\n\t\t\t\tisAdd: [function() {\n\t\t\t\t\treturn true;\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\t}]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/deploy/index.js\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = function(app) {\n\tapp.controller('DeployListController', [\n\t\t'$scope',\n\t\t'$state',\n\t\t'$stateParams',\n\t\t'DeployService',\n\t\t'constant',\n\t\t'toasty',\n\t\t'deployRead',\n\t\tfunction($scope, $state, $stateParams, DeployService, constant,toasty,deployRead) {\n\t\t\t$scope.query = {\n\t\t\t\tpage: $stateParams.page,\n\t\t\t};\n\t\t\t$scope.list = function(_query) {\n\t\t\t\tvar query = _.extend($scope.query, _query);\n\t\t\t\tDeployService.list(query).then(function(data) {\n\t\t\t\t\t$scope.deploys = data.msg.deploys;\n\t\t\t\t\t$scope.pagination = data.msg.pagination;\n\t\t\t\t\t$scope.count = data.msg.count;\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.del = function(deploy) {\n\t\t\t\tif (confirm('确认删除发布吗')) {\n\t\t\t\t\tDeployService.remove(deploy._id).then(function(data) {\n\t\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\t\ttoasty.success('删除发布');\n\t\t\t\t\t\t\tfor (var i = 0, len = $scope.deploys.length; i < len; i++) {\n\t\t\t\t\t\t\t\tif ($scope.deploys[i]._id === deploy._id) {\n\t\t\t\t\t\t\t\t\t$scope.deploys.splice(i, 1);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.run = function(d){\n\t\t\t\tDeployService.run(d._id).then(function(data) {\n\t\t\t\t\tif (data.code === 200) {\n\t\t\t\t\t\td.status = 20;\n\t\t\t\t\t\ttoasty.success('执行发布成功');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoasty.error(data.msg);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\t$scope.read = function(d){\n\t\t\t\tdeployRead.init({\n\t\t\t\t\tdeploy:d\n\t\t\t\t});\n\t\t\t};\n\t\t\t$scope.init = function() {\n\t\t\t\t$scope.list();\n\t\t\t};\n\t\t}\n\t]);\n\tapp.config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {\n\t\t$stateProvider.state('deploys', {\n\t\t\turl: '/deploys?page',\n\t\t\ttemplateUrl: '/site/tpls/deploys/index.html',\n\t\t\tpageTitle: '文档列表',\n\t\t\tcontroller: 'DeployListController'\n\t\t});\n\t}]);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./site/tpls/deploys/index.js\n ** module id = 31\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"main.js"}